# Context Snapshot - WhaleVault Private Swap Token Debugging
**Date:** 2026-01-30 12:30
**Context Usage:** HIGH (threshold exceeded)

## Current Task
Debugging why tokens aren't showing in the private-swap token dropdown. User reported only static fallback tokens (dwSOL, dUSDC, dUSDT) are visible and search returns nothing.

## Key Findings

### API Works Fine
- Raydium devnet API (`https://api-v3-devnet.raydium.io/pools/info/mint`) returns ~40 unique tokens
- Tokens include: dUSDC, dUSDT, TRUMP, GOAT, BIG, TEK, VXZ, miao, BRIAN, MET, QUACK, etc.
- API tested successfully via curl

### Likely Issue: CORS or Silent Error
- `useTokenList.ts` fetches from Raydium API on component mount
- Error handling silently falls back to featured tokens (explains why only 3 show)
- Added console.log statements to diagnose but couldn't test in browser (wallet connection required)

### Code Changes Made
1. Added logging to `useTokenList.ts`:
   - Log fetch URL
   - Log response status
   - Log pools count received
   - Log parsed tokens count
   - Log errors with full error object

## Files Modified This Session
- `frontend/hooks/useTokenList.ts` - Added debug logging

## Next Steps
1. Check browser console for the logs after wallet connects
2. If CORS error, need to proxy through backend or use different API
3. Alternative: Use the existing backend `/api/swap/tokens` endpoint that already works

## Potential Fix
The backend already has a `/swap/tokens` endpoint that fetches from Jupiter. Could modify `useTokenList.ts` to use the backend API instead of directly calling Raydium, avoiding CORS issues.

## Blockers
- Can't fully test in browser automation (Phantom wallet popup required)
- Need user to check browser console logs after connecting wallet
