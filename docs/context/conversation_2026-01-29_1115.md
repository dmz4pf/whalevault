# Context Snapshot - WhaleVault Frontend
**Date:** 2026-01-29 11:15
**Context Usage:** 216%

## NEW UI DIRECTION: Layered Modal System

User wants stacked layer UI instead of separate pages:

```
Dashboard (base)
    ↓ click "Unshield"
Dashboard (faded) + Unshield Layer
    ↓ select position, click "Send"
Dashboard (faded) + Unshield (faded) + Recipient Layer
    ↓ enter address, click "Continue"
Dashboard (faded) + ... + Privacy Level Layer
    ↓ select timing, click "Execute"
Dashboard (faded) + ... + Confirmation Layer
```

## Design Pattern
- **Base**: Dashboard always visible (faded when layers open)
- **Layers**: Slide-over panels or modals that stack
- **Each step**: Adds new layer, previous fades to ~30% opacity
- **Back**: Removes top layer, restores previous
- **Complete**: All layers close, back to dashboard

## Implementation Approach
1. Create `LayerProvider` context to manage layer stack
2. Create `Layer` component (slide-over panel)
3. Refactor flows to use layers instead of page navigation
4. Dashboard becomes the single "page"

## Features Confirmed
- Batching: 1h, 6h, 12h, 24h windows (not instant/custom)
- Instant: No batching, immediate execution
- Custom: No warning, user's choice
- Split to Many: Coming Soon

## Files to Create/Modify
- `components/ui/Layer.tsx` - Layer/modal component
- `contexts/LayerContext.tsx` - Layer stack management
- `app/dashboard/page.tsx` - Main hub with layer triggers
- Remove/refactor: shield/page.tsx, unshield/page.tsx → become layer content
