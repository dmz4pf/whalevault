# Context Snapshot - V5 Debug Session
**Date:** 2026-01-28 14:00

## Current Issue
Private swap fails at Raydium step with `REQ_INPUT_ACCOUT_ERROR`

## Flow Working
1. ✅ Shield works (with new pending→shielded flow)
2. ✅ Unshield step in private swap works (SOL returns to wallet)
3. ❌ Raydium swap step fails

## Recent Fixes
- Fixed critical bug: position saved BEFORE transaction (commit e483242)
- Fixed recipient input auto-fill issue (useRef for one-time fill)
- Fixed TokenSelector z-index overlap

## Files to Debug
- `frontend/hooks/usePrivateSwap.ts` - swap flow
- `frontend/services/raydium-swap.ts` - Raydium API calls

## Next Step
Debug why Raydium returns REQ_INPUT_ACCOUT_ERROR after successful unshield
